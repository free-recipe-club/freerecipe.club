---
import Layout from "../layouts/Layout.astro";
import { RecipeCard } from "../components/RecipeCard";
import fs from "node:fs";
import yaml from "yaml";
import { Recipe } from "../interfaces/Recipe";

const recipePath = "./src/recipes/";

const recipes: Recipe[] = fs.readdirSync(recipePath).map((filename) => {
	const file = fs.readFileSync(`${recipePath}${filename}`, "utf-8");
	return yaml.parse(file);
});
---

<Layout title="Recipes." favicon="MiniFridge">
	<main>
		{recipes.map((recipe: Recipe) => <RecipeCard {...recipe} />)}
	</main>
</Layout>
